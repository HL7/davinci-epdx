<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>Payer-to-Payer Exchange (single member) - Da Vinci Payer Data Exchange v2.0.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/hl7.css" rel="stylesheet"/>
    <link href="assets/css/fhir-ig.css" rel="stylesheet"/>

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"6.2"}
    h3,h4,h5,h6{--heading-prefix:"6.2"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

        <div id="hl7-nav">
          <a id="hl7-logo" no-external="true" href="http://hl7.org">
            <img height="50" alt="Visit the HL7 website" src="assets/images/hl7-logo-header.png"/>
          </a>
        </div>
        <div id="family-nav">
          <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="50" alt="Visit the FHIR website" src="assets/images/fhir-logo-www.png"/> </a>
        </div>
        <div id="hl7-search">
          <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
        </div>

        <div id="project-nav">
          <a id="project-logo" no-external="true" href="http://hl7.org/about/davinci"><img height="55" alt="Visit the Da Vinci website" src="assets/images/da-vinci_logo.jpg"/> </a>
        </div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Da Vinci Payer Data Exchange</span>
            <br/>
            <span style="display:inline-block;">2.0.0 - STU2



  <img alt="United States of America flag" src="assets/images/usa.svg" height="16" title="United States of America"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <li>
    <a href="toc.html">Table of Contents</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">PDex IG Content
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="overview.html">Overview</a>
      </li>
      <li>
        <a href="introduction.html">Introduction</a>
      </li>
      <li>
        <a href="datamapping.html">Data Mapping</a>
      </li>
      <li>
        <a href="cds-hooks.html">CDS Hooks</a>
      </li>
      <li>
        <a href="payertopayerexchange.html">Payer-to-Payer</a>
      </li>
      <li>
        <a href="changehistory.html">Change Log</a>
      </li>
      <li>
        <a href="credits.html">Credits</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">FHIR Artifacts</a>
  </li>
  <li>
    <a href="other-igs.html">Other IG Artifacts</a>
  </li>
  <li>
    <a href="Downloads.html">Downloads</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><a href='pdeximplementationactorsinteractionsdatapayloadsandmethods.html'><b>PDex Implementation, Actors, Interactions, Data Payloads and Methods</b></a></li><li><b>Payer-to-Payer Exchange (single member)</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">Da Vinci Payer Data Exchange - Local Development build (v2.0.0) built by the FHIR (HL7® FHIR® Standard) Build Tools. See the <a href="http://hl7.org/fhir/us/davinci-pdex/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Payer-to-Payer Exchange (single member)</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#member-match-with-consent" id="markdown-toc-member-match-with-consent">Member Match with Consent</a></li>
  <li><a href="#evaluation-of-consent" id="markdown-toc-evaluation-of-consent">Evaluation of Consent</a></li>
  <li><a href="#data-retrieval-methods" id="markdown-toc-data-retrieval-methods">Data Retrieval Methods</a></li>
  <li><a href="#query-all-clinical-resources-individually" id="markdown-toc-query-all-clinical-resources-individually">Query all clinical resources individually</a></li>
  <li><a href="#constraining-data-based-upon-permissions-of-the-requestor" id="markdown-toc-constraining-data-based-upon-permissions-of-the-requestor">Constraining Data Based Upon Permissions of the Requestor</a></li>
  <li><a href="#everything-operation" id="markdown-toc-everything-operation">$everything operation</a></li>
  <li><a href="#bulk-fhir-asynchronous-protocols" id="markdown-toc-bulk-fhir-asynchronous-protocols">Bulk FHIR Asynchronous protocols</a></li>
</ul>

</div>
<p><a href="handlingdataprovenance.html">Previous Page - Handling Data Provenance</a></p>

<style>
    table{
        border-collapse: collapse;
        border-spacing: 0;
        border:2px solid #000088;
        width:90%;
        overflow-wrap: anywhere;
    }

    th{
        border:2px solid #000088;
        background-color:lightskyblue;
    }

    td{
        border:1px solid #000088;
    }
</style>

<p>The Exchange of all of a member’s clinical data, as scoped by USCDI version 1 and represented in FHIR by US Core 3.1.1, is a requirement of the CMS Interoperability Rule.</p>

<p>All PDex Payer-to-Payer FHIR-based data exchanges in this IG will be limited to the exchange of data for a single member. Data Exchange for groups of Members is outside the current scope of this IG. Management of attribution lists for exchange of data for groups of members may be considered in a future version of the IG.</p>

<p>Payer-to-Payer exchange can be accomplished by three methods. Clients wishing to retrieve data should consult the Data Provider’s Server Capability Statement to determine which methods are made available by the data holder. Each retrieval method <strong>SHALL</strong> be preceded by the use of the following interaction to match a member and provide consent:</p>

<h3 id="member-match-with-consent">Member Match with Consent</h3>

<div style="height=auto;width=90%;">
<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1289 1623" zoomAndPan="magnify"><defs /><g><rect fill="#90EE90" height="291.1055" style="stroke:#000000;stroke-width:1.5;" width="1002.5" x="29" y="96.7988" /><rect fill="#90EE90" height="97.2422" style="stroke:#000000;stroke-width:1.5;" width="703.5" x="10" y="401.9043" /><rect fill="none" height="112.5527" style="stroke:#000000;stroke-width:1.5;" width="814" x="70" y="599.7676" /><rect fill="none" height="465.7637" style="stroke:#000000;stroke-width:1.5;" width="1202" x="70" y="726.3203" /><rect fill="none" height="179.7949" style="stroke:#000000;stroke-width:1.5;" width="1085" x="70" y="1206.084" /><rect fill="#ADD8E6" height="127.8633" style="stroke:#000000;stroke-width:1.5;" width="947" x="70" y="1443.1895" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="217" x2="217" y1="36.4883" y2="1588.0527" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="574.5" x2="574.5" y1="36.4883" y2="1588.0527" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="847.5" x2="847.5" y1="36.4883" y2="1588.0527" /><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="274" x="80" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="87" y="25.5352">Payer2 | New Payer | Requesting Payer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="274" x="80" y="1587.0527" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="87" y="1607.5879">Payer2 | New Payer | Requesting Payer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="257" x="446.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="243" x="453.5" y="25.5352">Payer1 | Old Payer | Receiving Payer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="257" x="446.5" y="1587.0527" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="243" x="453.5" y="1607.5879">Payer1 | Old Payer | Receiving Payer</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="268" x="713.5" y="5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="720.5" y="25.5352">Payer Directory | Certificate Authority</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="268" x="713.5" y="1587.0527" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="720.5" y="1607.5879">Payer Directory | Certificate Authority</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1282" x="0" y="67.1436" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1282" y1="67.1436" y2="67.1436" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1282" y1="70.1436" y2="70.1436" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="187" x="547.5" y="56.4883" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="169" x="553.5" y="73.0566">Connection Intitialization</text><path d="M29,96.7988 L504,96.7988 L504,104.1094 L494,114.1094 L29,114.1094 L29,96.7988 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="291.1055" style="stroke:#000000;stroke-width:1.5;" width="1002.5" x="29" y="96.7988" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="430" x="44" y="110.3672">Step 1a: Verify Exchange, establish mutual TLS, and verify trust.</text><polygon fill="#181818" points="835.5,142.0752,845.5,146.0752,835.5,150.0752,839.5,146.0752" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="217" x2="841.5" y1="146.0752" y2="146.0752" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="224" y="141.333">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="237" y="141.333">Query</text><path d="M39,119.1094 L39,159.1094 L212,159.1094 L212,129.1094 L202,119.1094 L39,119.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M202,119.1094 L202,129.1094 L212,129.1094 L202,119.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="45" y="136.6777">Payer2 searches registry</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="49" y="151.9883">for Payer1 details</text><polygon fill="#181818" points="228,182.041,218,186.041,228,190.041,224,186.041" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="846.5" y1="186.041" y2="186.041" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="234" y="181.2988">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="247" y="181.2988">Return endpoint, mutual TLS public cert,</text><line style="stroke:#181818;stroke-width:1.0;" x1="217" x2="259" y1="215.3516" y2="215.3516" /><line style="stroke:#181818;stroke-width:1.0;" x1="259" x2="259" y1="215.3516" y2="228.3516" /><line style="stroke:#181818;stroke-width:1.0;" x1="218" x2="259" y1="228.3516" y2="228.3516" /><polygon fill="#181818" points="228,224.3516,218,228.3516,228,232.3516,224,228.3516" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="224" y="210.6094">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="237" y="210.6094">Verify Cert</text><polygon fill="#181818" points="563,253.6621,573,257.6621,563,261.6621,567,257.6621" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="217" x2="569" y1="257.6621" y2="257.6621" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="224" y="252.9199">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="237" y="252.9199">Establish Mutual TLS</text><polygon fill="#181818" points="835.5,293.6279,845.5,297.6279,835.5,301.6279,839.5,297.6279" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="841.5" y1="297.6279" y2="297.6279" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="582" y="292.8857">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="595" y="292.8857">Query mutual TLS Public Cert</text><path d="M852,270.6621 L852,310.6621 L1016,310.6621 L1016,280.6621 L1006,270.6621 L852,270.6621 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M1006,270.6621 L1006,280.6621 L1016,280.6621 L1006,270.6621 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="858" y="288.2305">Payer1 queries registry</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="862" y="303.541">for Payer2 details</text><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="586" y1="337.5938" y2="333.5938" /><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="586" y1="337.5938" y2="341.5938" /><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="846.5" y1="337.5938" y2="337.5938" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="592" y="332.8516">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="605" y="332.8516">Return mTLS public cert</text><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="617" y1="366.9043" y2="366.9043" /><line style="stroke:#181818;stroke-width:1.0;" x1="617" x2="617" y1="366.9043" y2="379.9043" /><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="617" y1="379.9043" y2="379.9043" /><polygon fill="#181818" points="586,375.9043,576,379.9043,586,383.9043,582,379.9043" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="582" y="362.1621">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="595" y="362.1621">Verify Cert</text><path d="M10,401.9043 L474,401.9043 L474,409.2148 L464,419.2148 L10,419.2148 L10,401.9043 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="97.2422" style="stroke:#000000;stroke-width:1.5;" width="703.5" x="10" y="401.9043" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="419" x="25" y="415.4727">Step 1b: OAuth 2.0 Dynamic Registration via mTLS connection</text><polygon fill="#181818" points="563,447.1807,573,451.1807,563,455.1807,567,451.1807" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="217" x2="569" y1="451.1807" y2="451.1807" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="224" y="446.4385">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="237" y="446.4385">Request registration (JWT with registration details)</text><path d="M20,424.2148 L20,464.2148 L212,464.2148 L212,434.2148 L202,424.2148 L20,424.2148 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M202,424.2148 L202,434.2148 L212,434.2148 L202,424.2148 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="26" y="441.7832">Payer2 submits JWT with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="30" y="457.0938">service registration details</text><polygon fill="#181818" points="228,487.1465,218,491.1465,228,495.1465,224,491.1465" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="574" y1="491.1465" y2="491.1465" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="234" y="486.4043">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302" x="247" y="486.4043">Return Client Credentials (ClientID/ClientSecret)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1282" x="0" y="526.8018" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1282" y1="526.8018" y2="526.8018" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1282" y1="529.8018" y2="529.8018" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="301" x="490.5" y="516.1465" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="283" x="496.5" y="532.7148">Secure Transaction Capability Established</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1282" x="0" y="570.1123" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1282" y1="570.1123" y2="570.1123" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1282" y1="573.1123" y2="573.1123" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="154" x="564" y="559.457" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="136" x="570" y="576.0254">Member Connection</text><path d="M70,599.7676 L423,599.7676 L423,607.0781 L413,617.0781 L70,617.0781 L70,599.7676 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="112.5527" style="stroke:#000000;stroke-width:1.5;" width="814" x="70" y="599.7676" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="308" x="85" y="613.3359">Step 2a: Get $MemberMatch Operation Token</text><polygon fill="#181818" points="563,649.6992,573,653.6992,563,657.6992,567,653.6992" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="217" x2="569" y1="653.6992" y2="653.6992" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="224" y="641.3018">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="246" y="633.6465">Use OAuth2.0 token endpoint to request access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="246" y="648.957">to $MemberMatch operation only</text><polygon fill="#181818" points="228,689.665,218,693.665,228,697.665,224,693.665" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="574" y1="693.665" y2="693.665" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="234" y="688.9229">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="256" y="688.9229">Return access token</text><path d="M580,666.6992 L580,706.6992 L869,706.6992 L869,676.6992 L859,666.6992 L580,666.6992 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M859,666.6992 L859,676.6992 L869,676.6992 L859,666.6992 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="586" y="684.2676">Token endpoint issues access token using</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="590" y="699.5781">Payer2 OAuth Credentials</text><path d="M70,726.3203 L498,726.3203 L498,733.6309 L488,743.6309 L70,743.6309 L70,726.3203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="465.7637" style="stroke:#000000;stroke-width:1.5;" width="1202" x="70" y="726.3203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="383" x="85" y="739.8887">Step 2b: Establish common member - secure transaction</text><polygon fill="#181818" points="563,776.252,573,780.252,563,784.252,567,780.252" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="217" x2="569" y1="780.252" y2="780.252" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="224" y="767.8545">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="246" y="760.1992">Send bundle (Patient Demographics,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="246" y="775.5098">Coverage &amp; Consent) to $MemberMatch operation</text><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="617" y1="809.5625" y2="809.5625" /><line style="stroke:#181818;stroke-width:1.0;" x1="617" x2="617" y1="809.5625" y2="822.5625" /><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="617" y1="822.5625" y2="822.5625" /><polygon fill="#181818" points="586,818.5625,576,822.5625,586,826.5625,582,822.5625" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="582" y="804.8203">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="604" y="804.8203">Verify member</text><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="617" y1="917.2705" y2="917.2705" /><line style="stroke:#181818;stroke-width:1.0;" x1="617" x2="617" y1="917.2705" y2="930.2705" /><line style="stroke:#181818;stroke-width:1.0;" x1="576" x2="617" y1="930.2705" y2="930.2705" /><polygon fill="#181818" points="586,926.2705,576,930.2705,586,934.2705,582,930.2705" style="stroke:#181818;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="582" y="904.873">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="604" y="897.2178">Store or Compute Consent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="604" y="912.5283">(all / non-sensitive) for Member</text><path d="M818,835.5625 L818,982.5625 L1257,982.5625 L1257,845.5625 L1247,835.5625 L818,835.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M1247,835.5625 L1247,845.5625 L1257,845.5625 L1247,835.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="824" y="853.1309">Member: ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="824" y="868.4414">Payer: ID (Client Credential)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="824" y="883.752">Policy: all | non-sensitive</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="824" y="899.0625">Consent Period: start, end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="824" y="914.373">This information will be need to be checked</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="824" y="929.6836">when Access Token is issued in Step 3.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388" x="824" y="944.9941">An active consent information will only be stored if the Policy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418" x="824" y="960.3047">Scope can be complied with. An inability to comply with the scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="410" x="824" y="975.6152">will lead to a 422 error being returned from the $member-match.</text><polygon fill="#181818" points="228,1092.876,218,1096.876,228,1100.876,224,1096.876" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="574" y1="1096.876" y2="1096.876" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="234" y="1092.1338">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="256" y="1092.1338">Return Member Identifier (Patient FHIR ID)</text><path d="M580,993.3574 L580,1186.3574 L1025,1186.3574 L1025,1003.3574 L1015,993.3574 L580,993.3574 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M1015,993.3574 L1015,1003.3574 L1025,1003.3574 L1015,993.3574 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="340" x="590" y="1010.9258">This process assumes Payer1 provides a unique ID for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="590" y="1026.2363">the member that crosses all relevant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="590" y="1041.5469">contract arrangements.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="586" y="1056.8574">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="341" x="590" y="1072.168">Payer1 may determine concurrent coverage is in effect</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333" x="590" y="1087.4785">and covered by member consent to trigger reciprocal</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="590" y="1102.7891">app registration and $MemberMatch request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="586" y="1118.0996">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="424" x="586" y="1133.4102">Payer2 receives the Member Identifier (Patient FHIR ID) from Payer1.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="415" x="590" y="1148.7207">The Member Identifier (Patient FHIR ID) is only returned if member</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="590" y="1164.0313">is matched AND consent can be complied with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="590" y="1179.3418">per date and policy constraints.</text><path d="M70,1206.084 L444,1206.084 L444,1213.3945 L434,1223.3945 L70,1223.3945 L70,1206.084 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="179.7949" style="stroke:#000000;stroke-width:1.5;" width="1085" x="70" y="1206.084" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="329" x="85" y="1219.6523">Step 3: Request Access token for Member Access</text><polygon fill="#181818" points="563,1297.292,573,1301.292,563,1305.292,567,1301.292" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="217" x2="569" y1="1301.292" y2="1301.292" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="224" y="1288.8945">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="246" y="1281.2393">Use OAuth2.0 token endpoint to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="246" y="1296.5498">request access using Member Identifier</text><path d="M580,1228.3945 L580,1345.3945 L1140,1345.3945 L1140,1238.3945 L1130,1228.3945 L580,1228.3945 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M1130,1228.3945 L1130,1238.3945 L1140,1238.3945 L1130,1228.3945 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="586" y="1245.9629">Token endpoint matches to member using</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339" x="590" y="1261.2734">Member Identifier and queries consent records to find</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="450" x="590" y="1276.584">the latest active consent that matches on Member and Payer Identifiers.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397" x="590" y="1291.8945">The Access Token process then confirms current date is within</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="535" x="590" y="1307.2051">the consent period and the policy scope can be complied with. Checking the consent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="503" x="590" y="1322.5156">record is active provides for the receiving payer to invalidate the consent record</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="590" y="1337.8262">if a request is recieved via other channels to cancel the consent.</text><polygon fill="#181818" points="228,1370.8789,218,1374.8789,228,1378.8789,224,1374.8789" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="574" y1="1374.8789" y2="1374.8789" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="234" y="1370.1367">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="256" y="1370.1367">Return access token</text><path d="M580,1355.5684 L580,1380.5684 L807,1380.5684 L807,1365.5684 L797,1355.5684 L580,1355.5684 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M797,1355.5684 L797,1365.5684 L807,1365.5684 L797,1355.5684 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="586" y="1373.1367">token is scoped to single Patient</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1282" x="0" y="1413.5342" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1282" y1="1413.5342" y2="1413.5342" /><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1282" y1="1416.5342" y2="1416.5342" /><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="115" x="583.5" y="1402.8789" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="589.5" y="1419.4473">Data Requests</text><path d="M70,1443.1895 L455,1443.1895 L455,1450.5 L445,1460.5 L70,1460.5 L70,1443.1895 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="127.8633" style="stroke:#000000;stroke-width:1.5;" width="947" x="70" y="1443.1895" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="340" x="85" y="1456.7578">Step 4: Exchange PDex (USCDI) Information via API</text><polygon fill="#181818" points="563,1477.8105,573,1481.8105,563,1485.8105,567,1481.8105" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="217" x2="569" y1="1481.8105" y2="1481.8105" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="224" y="1477.0684">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="246" y="1477.0684">Use Patient-scoped access token to access API</text><polygon fill="#181818" points="228,1548.3975,218,1552.3975,228,1556.3975,224,1552.3975" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="574" y1="1552.3975" y2="1552.3975" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="234" y="1532.3447">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="256" y="1517.0342">Return $everything or</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="256" y="1532.3447">incremental data as appropriate/supported</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="256" y="1547.6553">by Payer1 Capability Statement</text><path d="M580,1494.8105 L580,1565.8105 L1002,1565.8105 L1002,1504.8105 L992,1494.8105 L580,1494.8105 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><path d="M992,1494.8105 L992,1504.8105 L1002,1504.8105 L992,1494.8105 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="401" x="586" y="1512.3789">Use retrieval method, as defined in use case scenarios, such as:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="598" y="1527.6895">1.) Individual search against each USCDI resource</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="598" y="1543">2.) $everything operation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="598" y="1558.3105">3.) asynchronous Bulk FHIR methods.</text></g></svg>
</div>

<p>Health Plans <strong>SHALL</strong> support the $member-match operation.</p>

<p>The steps in the Member Match with Consent process are:</p>

<ul>
  <li>Establish a secure connection via mTLS</li>
  <li>Use mTLS secure connection to perform OAuth2.0 Dynamic Client Registration to acquire OAuth2.0 client credentials</li>
  <li>Use Client Credentials to acquire OAuth2.0 token to perform $member-match operation</li>
  <li>The $member-match operation uses Patient Demographics and Coverage records to determine if a member is found</li>
  <li>The $member-match operation evaluates the Consent resource for a matched member</li>
  <li>If a member is matched and the Consent request can be complied with (Per Policy request and Date range) a Patient ID is provided to the requesting Payer (Payer2)</li>
  <li>If a Patient ID is returned from $member-match, a request is made to the OAuth2.0 Token endpoint for an OAuth2.0 Access Token that is scoped to the identified shared member</li>
  <li>If a Token is granted the requesting payer performs data retrieval steps using appropriate methods, defined below.</li>
</ul>

<h4 id="mtls-endpoint-discovery">mTLS Endpoint Discovery</h4>

<p>Payers need two capabilities in order to establish trusted connections with other Payers:</p>

<ol>
  <li>A Discovery or Directory Service to be able to find other endpoints</li>
  <li>A Trust Framework in which both parties are members.</li>
</ol>

<p>In the absence of a Trusted Exchange Framework and Common Agreement (TEFCA) or National Endpoint Directory service for Payers an interim solution is required. For this purpose, a public git repository will be established that will be used to store signed mTLS endpoint bundles.</p>

<p>Each Payer will create an mTLS bundle. The bundle will be signed by a Certificate Authority (CA) using public/private keys. The Endpoint will also be “endorsed” by a Trust Framework Manager using a certificate. The Trust Framework endorsement process is detailed below in the Trust Framework section of this page.</p>

<p>The mTLS Endpoint Bundle is profiled in this IG. It consists of an Endpoint And two Organization profiles: One for the Health Plan and One for the Managing Organization that operates the endpoint. These profiles use the National Directory (NDH) IG Profiles.</p>

<p>For Payers to establish a secure mTLS connection with another Payer there needs to be a discovery service. In the absence of a Trusted Exchange Framework and Common Agreement (TEFCA) or National Endpoint Directory service for Payers an interim solution is required. For this purpose, a public git repository will be established that will be used to store signed mTLS endpoint bundles. A test version of that repository has been established here: <a href="https://github.com/HL7-DaVinci/pdex-payer-payer">https://github.com/HL7-DaVinci/pdex-payer-payer</a>. The repository includes some supporting tools and documentation relating to mTLS discovery.</p>

<p>Each Payer will create an mTLS bundle. The bundle will be signed by a Certificate Authority (CA) using public/private keys. The public key is included in the Endpoint record that is provided in the bundle. A public key should also be provided by the Trust Framework that is overseeing the Payer-to-Payer exchange process. The Associated Servers Extension will identify the PDex IG Base URI and the OAuth2.0 Dynamic Client Registration Protocol Endpoint. The PDex Capability Statement can be retrieved from [BASE URI]/metadata. The security section within the Capability Statement will define the SMART-on-FHIR endpoints for Access Tokens. The Registration Endpoint will only be accessible via the mTLS connection established using the mTLS endpoint information in the bundle.</p>

<p>The mTLS Endpoint Bundle is profiled in this IG. It consists of an Endpoint and two Organization profiles (One for the Health Plan, the other for the Operating entity that manages the Endpoint). These profiles use the National Directory (NDH) IG Profiles.</p>

<p>The profiles are:</p>

<ul>
  <li><a href="StructureDefinition-mtls-bundle.html">mTLS Endpoint Bundle</a></li>
  <li><a href="https://build.fhir.org/ig/HL7/fhir-us-ndh/StructureDefinition-ndhEx-Endpoint.html">National Directory NDH Exchange Endpoint</a></li>
  <li><a href="https://build.fhir.org/ig/HL7/fhir-us-ndh/StructureDefinition-ndh-Organization.html">National Directory NDH Base Organization</a>.</li>
</ul>

<p>The profiles in the mTLS bundle are modeled after the profiles in the National Directory (NDH) IG. The National Directory is not yet operational. Therefore, it is outside the scope of this IG to define search methods into the National Directory. In the interim payers will need to download the Git repository and perform searches against the bundles to identify other payers and extract the relevant data.</p>

<h5 id="trust-framework">Trust Framework</h5>

<p>A Trust Framework is a construct where the parties to the framework agree to a common set of operating rules. A manager of the Trust Framework would be appointed to administer the framework: the Trust Manager. This would involve the issuing and revocation of certificates that validate an organization’s membership of the framework.</p>

<p>The Trust Manager responsibilities include:</p>

<ul>
  <li>Obtain and manage a Signing Certificate from a Trusted CA.</li>
  <li>Manage submissions from Payers that includes their public identity certificate and completed Framework agreement. The Framework agreement confirms their participation in the Trust Framework and observation of the Trust Framework operating requirements.</li>
</ul>

<p>The management of payer submissions involves the following steps:</p>

<ol>
  <li>Verifying the identity certificate.</li>
  <li>Verifying the signature to the Framework agreement.</li>
  <li>Signing the payer’s public identity certificate  with a digital signature.</li>
  <li>Returning the signed payer’s public identity certificate and the public Trust Framework signing certificate to the payer.</li>
</ol>

<p>Upon completion of the submission process the Payer creates the endpoint and includes the signed payer public identity certificate and the public Trust Framework signing certificate into an Endpoint resource. This is incorporated into a bundle that includes the Payer’s organization record and the organization record for the organization that manages the endpoint. Where the organization is both the payer and the managing organization there should still be two Organization records created.</p>

<p>The completed bundle would be posted to a new branch of the public GitHub Repository.</p>

<p>The Trust Manager would be responsible for reviewing and merging bundles submitted via a new branch of the GitHub repository into the main branch of the Repository.</p>

<p>Trust Framework members are responsible for refreshing their copy of the main branch of the GitHub repository which would be used to refresh and update their list of mTLS and Authentication Endpoints for current validated members of the Trust Framework.</p>

<h4 id="oauth20-dynamic-client-registration">OAuth2.0 Dynamic Client Registration</h4>

<p>Once payers have setup a secure mTLS connection, the new Payer will query the Dynamic Client Registration Protocol (DCRP) endpoint of the target (old) payer to obtain a client credential with scopes that enable queries to be made to the $member-match operation endpoint.</p>

<h4 id="future-direction-for-discovery-and-registration">Future Direction for Discovery and Registration</h4>

<p>Future versions of this IG are expected to transition from the current discovery and registration process.  The current process, outlined on this page, utilizes a git repository of mTLS endpoint bundles that are used to create a secure mTLS connection. That connection is then used to access an OAuth2.0 Dynamic Client Registration (DCRP) endpoint to register for a set of client credentials. Those credentials provide access to the $member-match operation.</p>

<p>A future workflow is likely to use the FAST National Directory to find other payers that are in a common trust framework. The endpoint information for those payers would point to a Unified Data Access Profiles service, as defined in the FHIR At Scale Taskforce (FAST) <a href="https://build.fhir.org/ig/HL7/fhir-udap-security-ig/">Security for Scalable Registration, Authentication, and Authorization IG</a>. UDAP would be used to request a client credential that can be used to perform a $member-match and subsequently to request an OAuth2.0 token that is scoped to the member/patient returned from a successful match operation.</p>

<h4 id="the-member-match-operation">The $member-match operation</h4>

<p>The $member-match operation is defined in the <a href="http://hl7.org/fhir/us/davinci-hrex/OperationDefinition-member-match.html">HRex member-match operation</a>. The profiles used in the $member-match Operation are also defined in the <a href="http://hl7.org/fhir/us/davinci-hrex">HRex IG</a>. These are:</p>

<ul>
  <li><a href="http://hl7.org/fhir/us/davinci-hrex/STU1/StructureDefinition-hrex-patient-demographics.html">HRex Patient Demographics Profile</a></li>
  <li><a href="http://hl7.org/fhir/us/davinci-hrex/STU1/StructureDefinition-hrex-coverage.html">HRex Coverage Profile</a></li>
  <li><a href="http://hl7.org/fhir/us/davinci-hrex/STU1/StructureDefinition-hrex-consent.html">HRex Consent Profile</a>.</li>
</ul>

<p>The Coverage Profile is used to provide data for the CoverageToMatch and the CoverageToLink parameters in the $member-match operation. The CoverageToMatch is the information about the prior coverage. The CoverageToLink is the current coverage for the member at the new/requesting payer.</p>

<p>In the case where a match is confirmed the receiving payer will:</p>

<ul>
  <li>Utilize the consent record to evaluate the request from the requesting payer (Payer2) for data about the matched member. For example, is the payer able to respond to a request for only non-sensitive data.</li>
  <li>Return a Unique Patient Identifier (Patient FHIR ID) in the $member-match Operation Response.</li>
</ul>

<p>When no match is found, or if multiple matches are found, a 422 Unprocessable entity status code will be returned.</p>

<p>If the receiving payer matches to a unique member but is unable to comply with the consent request, a Patient ID <strong>SHALL</strong> NOT be returned in the $member-match response and a 422 status code <strong>SHALL</strong> be returned with an Operation Outcome that indicates that the consent request could not be complied with.</p>

<h4 id="consent-revocation">Consent Revocation</h4>

<p>The following guidance is provided for a situation where a member wishes to revoke consent for a previously granted Payer-to-Payer exchange.</p>

<p>As part of Payer-to-Payer Exchange Consent is gathered by the New Payer.
Since the New Payer has the current relationship with the member it is proposed that the New Payer manages the Consent Revocation process. This would involve the New Payer cancelling any recurring request to the old payer for new information for the member.</p>

<p>This approach does not preclude the member contacting their old payer and issuing a consent directive to block the release of data to the new payer. However, this is anticipated to be a rare occurrence.</p>

<h4 id="consent-request-language">Consent Request Language</h4>

<p>It is recommended that consistent language is used by Payers to present the information to a member when they are being asked to grant consent for a Payer-to-Payer exchange of their health information.</p>

<p>You [the Member] are:</p>

<ul>
  <li>Instructing [New Payer] to retrieve your health information from [Old Payer]</li>
  <li>Instructing the Old Payer to release your health information to [New Payer]</li>
  <li>Requesting all information is to be retrieved, or sensitive data (such as mental health data) should be excluded from the retrieved health information.</li>
  <li>Granting consent for [New Payer] to request data from [Old Payer] for a period of up to 90 days after the activation of your health coverage with [New Payer]</li>
</ul>

<p>Please note that:</p>
<ul>
  <li>The scope of data sensitivity is determined by Federal and State regulations that apply in the state in which [Old Payer] operates.</li>
  <li>If [Old Payer] is unable to identify and exclude sensitive data and you have chosen to exclude sensitive data from the request then [Old Payer] will be unable to comply with your request.</li>
  <li>In the case where you have active coverage with both [Old Payer] and [New Payer] the end date for the Consent instruction will be the anticipated end date of the health coverage with [New Payer].</li>
</ul>

<h3 id="evaluation-of-consent">Evaluation of Consent</h3>

<p>The receiving payer <strong>MAY</strong> store the Consent record for the member. 
The following minimal content from the Consent record is used to validate a data request:</p>

<ul>
  <li>Member Identity is matched</li>
  <li>Consent Policy (Everything or only Non-Sensitive data) matches the data release segmentation capabilities of the receiving payer</li>
  <li>Date period for consent is valid</li>
  <li>Payer requesting retrieval of data is matched.</li>
</ul>

<p>If a Consent is provided by an Authorized Representative, the person’s demographic details should be included as a <strong>contained</strong> resource (such as Patient or RelatedPerson) within the consent record. The Authorized Representative should be identified as an actor with an appropriate SecurityRoleType, such as “DPOWATT”, “HPOWATT” or similar value.</p>

<p>The exchange of Consent is being carried out between two covered entities and the content and conditions for an exchange of consent will be governed by a mutually agreed Trust Framework. The Consent resource’s document reference link would be to a document maintained by the requesting payer. The content of the referenced document would NOT be used for any determination as part of the automated $member-match operation. The referenced document’s only purpose is to provide evidence of an appropriate signature of the consenting member/patient.</p>

<p>It is expected that the referenced document url/identifier could be used in an out-of-band audit to determine the validity of a consent request. This would be part of the Trust Framework agreed by the covered entities that are party to the framework rules.</p>

<h4 id="period-of-consent-validity">Period of Consent Validity</h4>

<p>Here are some scenarios that could inform the decision about an appropriate period of validity for a consent to exchange health information:</p>

<ul>
  <li>Medicare has an annual enrollment. This can result in beneficiaries signing up for a new health plan up to 3 months before their new health plan goes into effect.</li>
  <li>When a member’s health plan is terminated it is not uncommon for claims and supporting information to be received by the health plan for a period after the plan terminates.</li>
  <li>Some plan beneficiaries may have concurrent coverage. For example, a Medicare and a Medicaid plan may be in effect for a beneficiary for the duration of coverage period. In this scenario health plans may need to exchange information about the beneficiary throughout the period of dual plan coverage to coordinate treatment.</li>
</ul>

<p>It is a member’s option to share their health information with their new health plan. When a member chooses to grant consent for a health plan to retrieve their health data from a prior health plan the proposed period of consent MAY be:</p>

<table>
  <thead>
    <tr>
      <th>Scenario</th>
      <th>Consent Start Date</th>
      <th>Consent End Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Early Enrollment</td>
      <td>Date of enrollment</td>
      <td>90 days after Plan Start Date</td>
    </tr>
    <tr>
      <td>Immediate Enrollment</td>
      <td>Date of enrollment</td>
      <td>90 days after Plan Start Date</td>
    </tr>
    <tr>
      <td>Concurrent Plan Coverage</td>
      <td>Date of enrollment</td>
      <td>Plan Period End Date (typically 12 months from plan start date)</td>
    </tr>
  </tbody>
</table>

<h3 id="data-retrieval-methods">Data Retrieval Methods</h3>

<p>Once Health Plans have completed the Member Access stage of the Exchange the requesting Health Plan <strong>SHALL</strong> utilize the access token returned from the Member Access step to request/retrieve 
data using one of the following three methods:</p>

<ol>
  <li>Query all clinical resource individually</li>
  <li><a href="https://www.hl7.org/fhir/operation-patient-everything.html">$patient-everything</a> operation</li>
  <li>Bulk FHIR Asynchronous protocols.</li>
</ol>

<p>Each of the above methods <strong>SHALL</strong> support the retrieval of the profiles and resources identified in the table below.</p>

<table>
  <thead>
    <tr>
      <th>Profile</th>
      <th>Resource</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance">US Core Allergy Intolerance</a></td>
      <td>AllergyIntolerance</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-careplan">US Core CarePlan</a></td>
      <td>CarePlan</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-careteam">US Core CareTeam</a></td>
      <td>CareTeam</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-condition">US Core Condition</a></td>
      <td>Condition</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/davinci-pdex/STU1/StructureDefinition-pdex-device">PDex Device</a> <br /> <a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-device">US Core ImplantableDevice</a></td>
      <td>Device</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-diagnosticreport-lab">US Core DiagnosticReport for Laboratory Results Reporting</a><br /><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-diagnosticreport-note">US Core DiagnosticReport for Report and Note Exchange</a></td>
      <td>DiagnosticReport</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-documentreference">US Core DocumentReference</a></td>
      <td>DocumentReference</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-encounter">US Core Encounter</a></td>
      <td>Encounter</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-goal">US Core Goal</a></td>
      <td>Goal</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-immunization">US Core Immunization</a></td>
      <td>Immunization</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-location">US Core Location</a></td>
      <td>Location</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-medication">US Core Medication</a></td>
      <td>Medication</td>
    </tr>
    <tr>
      <td><a href="https://build.fhir.org/ig/HL7/davinci-hrex/StructureDefinition-pdex-medicationdispense">PDex MedicationDispense</a></td>
      <td>MedicationDispense</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-medicationrequest">US Core MedicationRequest</a></td>
      <td>MedicationRequest</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition-us-core-observation-lab">US Core Laboratory Result Observation</a><br /><a href="https://hl7.org/fhir/us/core/StructureDefinition/pediatric-bmi-for-age">US Core Pediatric BMI for Age Observation</a><br /><a href="https://hl7.org/fhir/us/core/StructureDefinition/head-occipital-frontal-circumference-percentile">US Core Pediatric Head Occipital-frontal Circumference Observation</a><br /><a href="https://hl7.org/fhir/us/core/StructureDefinition/pediatric-weight-for-height">US Core Pediatric Weight for Height Observation</a><br /><a href="https://hl7.org/fhir/us/core/StructureDefinition-us-core-pulse-oximetry">US Core Pulse Oximetry</a><br /><a href="https://hl7.org/fhir/us/core/StructureDefinition-us-core-smokingstatus">US Core Smoking Status Observation</a><br /><a href="https://hl7.org/fhir/StructureDefinition/vitalspanel">VitalSigns</a></td>
      <td>Observation</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-organization">US Core Organization</a></td>
      <td>Organization</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-patient">US Core Patient</a></td>
      <td>Patient</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner">US Core Practitioner</a></td>
      <td>Practitioner</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-practitionerrole">US Core PractitionerRole</a></td>
      <td>PractitionerRole</td>
    </tr>
    <tr>
      <td><a href="https://hl7.org/fhir/us/core/StructureDefinition/us-core-procedure">US Core Procedure</a></td>
      <td>Procedure</td>
    </tr>
    <tr>
      <td><a href="http://hl7.org/fhir/us/davinci-hrex/STU1/StructureDefinition-hrex-coverage.html">HRex Coverage</a></td>
      <td>Coverage</td>
    </tr>
    <tr>
      <td><a href="StructureDefinition-pdex-priorauthorization.html">PDex Prior Authorization</a></td>
      <td>Prior Authorization</td>
    </tr>
    <tr>
      <td><a href="StructureDefinition-pdex-provenance.html">PDex Provenance</a><br /><a href="http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-provenance.html">US Core Provenance</a></td>
      <td>Provenance</td>
    </tr>
  </tbody>
</table>

<h3 id="query-all-clinical-resources-individually">Query all clinical resources individually</h3>

<p>Health Plans <strong>SHALL</strong> support search of a member’s clinical data to each USCDI/US Core clinical resource, as identified in the table above. Using the search capability of each resource enables the _revInclude and _include parameters to be used to retrieve the associated Provenance and supporting records.</p>

<h3 id="constraining-data-based-upon-permissions-of-the-requestor">Constraining Data Based Upon Permissions of the Requestor</h3>

<p>The FHIR Server <strong>SHALL</strong> constrain the data returned from the server to a requester based upon the access permissions of the requester.</p>

<p>For example, if a requester queries for ExplanationOfBenefit resources but they are only allowed to see Prior Authorization records, and not EOB Claims, the FHIR Server <strong>shall</strong> filter the data accordingly.</p>

<p>This Constraining condition may be required in implementations where multiple types of data are being served up by a single FHIR Server. The condition is particularly relevant when implementing Operations such as $everything or $export. See the sections below.</p>

<h3 id="everything-operation">$everything operation</h3>

<p>Health Plans <strong>SHOULD</strong> support the use of the $everything operation. The Patient/{id}/$everything operation is defined in the FHIR R4 specification here:
<a href="https://www.hl7.org/fhir/operation-patient-everything.html">https://www.hl7.org/fhir/operation-patient-everything.html</a>.</p>

<p>As noted in the previous section, $everything <strong>SHOULD</strong> limit the data retrieved to that which the requester is permitted to access. This might require an implementer to filter records at a more granular level than the resource.</p>

<p>The following resource/profiles relevant to the PDex IG are retrievable using the $everything operation:</p>

<p>Example of _type parameter:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_type= AllergyIntolerance,CarePlan,CareTeam,Condition,Device,DiagnosticReport,DocumentReference,Encounter,
       Goal,Immunization,Medication,MedicationDispense,MedicationRequest,Observation,Patient,Procedure,Provenance
</code></pre></div></div>

<p>The server <strong>SHOULD</strong> filter the ExplanationOfBenefit resource to include only PDex Prior Authorization profiled records. e.g., ExplanationOfBenefit.use does not equal “claim”.</p>

<h3 id="bulk-fhir-asynchronous-protocols">Bulk FHIR Asynchronous protocols</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Patient/$export
</code></pre></div></div>

<p>Payer-to-Payer Data Exchange <strong>SHOULD</strong> support the use of Bulk FHIR methods, as defined in the HL7 FHIR
<a href="https://hl7.org/fhir/uv/bulkdata/authorization/">Bulk Data Access Implementation Guide</a>. The
request/retrieval of data <strong>SHOULD</strong> use the <a href="https://hl7.org/fhir/uv/bulkdata/OperationDefinition-patient-export.html">FHIR Bulk Data Patient Level
Export</a> and the
<a href="https://hl7.org/fhir/uv/bulkdata/export.html#bulk-data-export-operation-request-flow">Bulk Data Export Operation Request
Flow</a>.</p>

<p>The Patient Export Operation for Payer-to-Payer exchange should be constrained to the resources and profiles that the requester is permitted to access, such as the profiles identified in the table in the <a href="payertopayerexchange.html#data-retrieval-methods">Data Retrieval Methods</a> section of this page.</p>

<p>The _typeFilter parameter can be used to scope resources using search parameters to exclude resources that are not required, such as non-clinical resources.</p>

<p><a href="datamapping.html">Next Page - Data Mapping</a></p>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="http://www.hl7.org/Special/committees/fm">HL7 International / Financial Management</a>.  Package hl7.fhir.us.davinci-pdex#2.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Thu, Jan 4, 2024 13:45-0500">2024-01-04</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
                 | <a style="color: #81BEF7" target="_blank" href="http://hl7.org/fhir/us/davinci-pdex/history.html">Version History</a> |
                 <a style="color: #81BEF7" rel="license" href="http://hl7.org/fhir/R4/license.html"><img style="border-style: none;" alt="CC0" src="cc0.png"/></a> |
                 <!--<a style="color: #81BEF7" href="todo.html">Search</a> | --> 
                 <a style="color: #81BEF7" target="_blank" href="http://hl7.org/fhir-issues">Propose a change</a>
          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

